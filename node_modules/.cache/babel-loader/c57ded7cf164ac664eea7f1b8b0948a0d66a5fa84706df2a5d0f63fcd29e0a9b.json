{"ast":null,"code":"var _jsxFileName = \"/Users/cadany/WebstormProjects/monaco/src/MultiEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { CodeEditor } from \"./CodeEditor\";\nimport { editor } from \"monaco-editor\";\nvar ITextModel = editor.ITextModel;\nvar ICodeEditorViewState = editor.ICodeEditorViewState;\nimport { Button, Empty, Tabs } from \"antd\";\nimport * as monaco from \"monaco-editor\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WorkerEmpty = () => /*#__PURE__*/_jsxDEV(Empty, {\n  imageStyle: {\n    height: 60\n  },\n  children: /*#__PURE__*/_jsxDEV(Button, {\n    type: \"primary\",\n    children: \"Create Now\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 26\n}, this);\n_c = WorkerEmpty;\nexport const MultiEditor = () => {\n  _s();\n  let currentModel = {\n    viewstate: null\n  };\n  const [activeKey, setActiveKey] = useState(\"0\");\n  const [items, setItems] = useState([]);\n  const newTabIndex = useRef(1);\n  const renderTabBar = (props, DefaultTabBar) => /*#__PURE__*/_jsxDEV(DefaultTabBar, {\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n  const onChange = activeKey => {\n    setActiveKey(activeKey);\n  };\n  const add = () => {\n    console.log(\"add\");\n    const newActivekey = `sql-${newTabIndex.current++}`;\n    const newModel = {\n      standaloneEditorConstructionOptions: {\n        model: monaco.editor.createModel(\"select * from table\", \"mysql\")\n      },\n      viewstate: null\n    };\n    setItems([...items, {\n      key: newActivekey,\n      label: newActivekey,\n      modelState: newModel\n    }]);\n  };\n  const remove = e => {\n    console.log(\"remove\" + e);\n  };\n  const onEdit = (e, action) => {\n    if (action === 'add') add();else remove(e);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"100vh\",\n      width: \"100vw\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Tabs, {\n      id: \"mutil_code_editor\",\n      type: \"editable-card\",\n      tabBarStyle: {\n        height: 25\n      },\n      items: items,\n      onChange: onChange,\n      onEdit: onEdit,\n      renderTabBar: renderTabBar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), items.length > 0 ? /*#__PURE__*/_jsxDEV(CodeEditor, {\n      viewstate: currentModel.viewstate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 32\n    }, this) : /*#__PURE__*/_jsxDEV(WorkerEmpty, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 81\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(MultiEditor, \"uBK1XzKhYj+rqDZJ9O9BhShZDAM=\");\n_c2 = MultiEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"WorkerEmpty\");\n$RefreshReg$(_c2, \"MultiEditor\");","map":{"version":3,"names":["React","useRef","useState","CodeEditor","editor","ITextModel","ICodeEditorViewState","Button","Empty","Tabs","monaco","jsxDEV","_jsxDEV","WorkerEmpty","imageStyle","height","children","type","fileName","_jsxFileName","lineNumber","columnNumber","_c","MultiEditor","_s","currentModel","viewstate","activeKey","setActiveKey","items","setItems","newTabIndex","renderTabBar","props","DefaultTabBar","onChange","add","console","log","newActivekey","current","newModel","standaloneEditorConstructionOptions","model","createModel","key","label","modelState","remove","e","onEdit","action","style","width","id","tabBarStyle","length","_c2","$RefreshReg$"],"sources":["/Users/cadany/WebstormProjects/monaco/src/MultiEditor.tsx"],"sourcesContent":["import React, {useRef, useState} from \"react\";\nimport {Content} from \"antd/es/layout/layout\";\nimport {CodeEditor, IModelState} from \"./CodeEditor\";\nimport {editor} from \"monaco-editor\";\nimport ITextModel = editor.ITextModel;\nimport ICodeEditorViewState = editor.ICodeEditorViewState;\nimport {Button, Empty, Tabs, TabsProps} from \"antd\";\nimport * as monaco from \"monaco-editor\";\n\ntype TargetKey = React.MouseEvent | React.KeyboardEvent | string;\n\n\ninterface IPane {\n    key: string\n    label: string\n    children?: React.ReactNode\n    modelState?: IModelState\n}\n\nconst WorkerEmpty = ()=> <Empty imageStyle={{ height: 60 }}>\n    <Button type=\"primary\">Create Now</Button>\n</Empty>\n\n\nexport const MultiEditor: React.FC = () => {\n\n    let currentModel: IModelState = {viewstate: null};\n    const [activeKey, setActiveKey] = useState(\"0\");\n    const [items, setItems] = useState<IPane[]>([]);\n    const newTabIndex = useRef(1);\n\n    const renderTabBar: TabsProps['renderTabBar'] = (props, DefaultTabBar) => (\n        <DefaultTabBar {...props} />\n    );\n\n    const onChange = (activeKey: string) => {\n        setActiveKey(activeKey);\n    }\n\n    const add = () => {\n        console.log(\"add\");\n        const newActivekey = `sql-${newTabIndex.current++}`;\n        const newModel: IModelState = {\n            standaloneEditorConstructionOptions:{model: monaco.editor.createModel(\"select * from table\", \"mysql\")},\n            viewstate: null\n        };\n        setItems([...items, {key:newActivekey, label: newActivekey, modelState: newModel}]);\n    }\n\n    const remove = (e: TargetKey) => {\n        console.log(\"remove\" + e)\n    }\n\n    const onEdit = (e: React.MouseEvent | React.KeyboardEvent | string, action: string) => {\n        if (action === 'add') add();\n        else remove(e);\n    }\n\n    return (\n        <div style={{height: \"100vh\", width: \"100vw\"}}>\n            <Tabs\n                id={\"mutil_code_editor\"}\n                type=\"editable-card\"\n                tabBarStyle={{height: 25}}\n                items={items}\n                onChange={onChange}\n                onEdit={onEdit}\n                renderTabBar={renderTabBar}\n            />\n            {\n                items.length>0?<CodeEditor viewstate={currentModel.viewstate}/>:<WorkerEmpty></WorkerEmpty>\n            }\n\n        </div>\n    );\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}