{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _CodeActionModel_isDisposed;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Progress } from '../../../../platform/progress/common/progress.js';\nimport { getCodeActions } from './codeAction.js';\nimport { CodeActionTriggerSource } from '../common/types.js';\nexport const SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\nclass CodeActionOracle extends Disposable {\n  constructor(_editor, _markerService, _signalChange) {\n    let _delay = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 250;\n    super();\n    this._editor = _editor;\n    this._markerService = _markerService;\n    this._signalChange = _signalChange;\n    this._delay = _delay;\n    this._autoTriggerTimer = this._register(new TimeoutTimer());\n    this._register(this._markerService.onMarkerChanged(e => this._onMarkerChanges(e)));\n    this._register(this._editor.onDidChangeCursorPosition(() => this._onCursorChange()));\n  }\n  trigger(trigger) {\n    const selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\n    return this._createEventAndSignalChange(trigger, selection);\n  }\n  _onMarkerChanges(resources) {\n    const model = this._editor.getModel();\n    if (!model) {\n      return;\n    }\n    if (resources.some(resource => isEqual(resource, model.uri))) {\n      this._autoTriggerTimer.cancelAndSet(() => {\n        this.trigger({\n          type: 2 /* CodeActionTriggerType.Auto */,\n          triggerAction: CodeActionTriggerSource.Default\n        });\n      }, this._delay);\n    }\n  }\n  _onCursorChange() {\n    this._autoTriggerTimer.cancelAndSet(() => {\n      this.trigger({\n        type: 2 /* CodeActionTriggerType.Auto */,\n        triggerAction: CodeActionTriggerSource.Default\n      });\n    }, this._delay);\n  }\n  _getRangeOfSelectionUnlessWhitespaceEnclosed(trigger) {\n    if (!this._editor.hasModel()) {\n      return undefined;\n    }\n    const model = this._editor.getModel();\n    const selection = this._editor.getSelection();\n    if (selection.isEmpty() && trigger.type === 2 /* CodeActionTriggerType.Auto */) {\n      const {\n        lineNumber,\n        column\n      } = selection.getPosition();\n      const line = model.getLineContent(lineNumber);\n      if (line.length === 0) {\n        // empty line\n        return undefined;\n      } else if (column === 1) {\n        // look only right\n        if (/\\s/.test(line[0])) {\n          return undefined;\n        }\n      } else if (column === model.getLineMaxColumn(lineNumber)) {\n        // look only left\n        if (/\\s/.test(line[line.length - 1])) {\n          return undefined;\n        }\n      } else {\n        // look left and right\n        if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\n          return undefined;\n        }\n      }\n    }\n    return selection;\n  }\n  _createEventAndSignalChange(trigger, selection) {\n    const model = this._editor.getModel();\n    if (!selection || !model) {\n      // cancel\n      this._signalChange(undefined);\n      return undefined;\n    }\n    const e = {\n      trigger,\n      selection,\n      position: selection.getStartPosition()\n    };\n    this._signalChange(e);\n    return e;\n  }\n}\nexport var CodeActionsState;\n(function (CodeActionsState) {\n  CodeActionsState.Empty = {\n    type: 0 /* Type.Empty */\n  };\n  class Triggered {\n    constructor(trigger, rangeOrSelection, position, _cancellablePromise) {\n      this.trigger = trigger;\n      this.rangeOrSelection = rangeOrSelection;\n      this.position = position;\n      this._cancellablePromise = _cancellablePromise;\n      this.type = 1 /* Type.Triggered */;\n      this.actions = _cancellablePromise.catch(e => {\n        if (isCancellationError(e)) {\n          return emptyCodeActionSet;\n        }\n        throw e;\n      });\n    }\n    cancel() {\n      this._cancellablePromise.cancel();\n    }\n  }\n  CodeActionsState.Triggered = Triggered;\n})(CodeActionsState || (CodeActionsState = {}));\nconst emptyCodeActionSet = {\n  allActions: [],\n  validActions: [],\n  dispose: () => {},\n  documentation: [],\n  hasAutoFix: false\n};\nexport class CodeActionModel extends Disposable {\n  constructor(_editor, _registry, _markerService, contextKeyService, _progressService) {\n    super();\n    this._editor = _editor;\n    this._registry = _registry;\n    this._markerService = _markerService;\n    this._progressService = _progressService;\n    this._codeActionOracle = this._register(new MutableDisposable());\n    this._state = CodeActionsState.Empty;\n    this._onDidChangeState = this._register(new Emitter());\n    this.onDidChangeState = this._onDidChangeState.event;\n    _CodeActionModel_isDisposed.set(this, false);\n    this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\n    this._register(this._editor.onDidChangeModel(() => this._update()));\n    this._register(this._editor.onDidChangeModelLanguage(() => this._update()));\n    this._register(this._registry.onDidChange(() => this._update()));\n    this._update();\n  }\n  dispose() {\n    if (__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n      return;\n    }\n    __classPrivateFieldSet(this, _CodeActionModel_isDisposed, true, \"f\");\n    super.dispose();\n    this.setState(CodeActionsState.Empty, true);\n  }\n  _update() {\n    if (__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n      return;\n    }\n    this._codeActionOracle.value = undefined;\n    this.setState(CodeActionsState.Empty);\n    const model = this._editor.getModel();\n    if (model && this._registry.has(model) && !this._editor.getOption(86 /* EditorOption.readOnly */)) {\n      const supportedActions = [];\n      for (const provider of this._registry.all(model)) {\n        if (Array.isArray(provider.providedCodeActionKinds)) {\n          supportedActions.push(...provider.providedCodeActionKinds);\n        }\n      }\n      this._supportedCodeActions.set(supportedActions.join(' '));\n      this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, trigger => {\n        var _a;\n        if (!trigger) {\n          this.setState(CodeActionsState.Empty);\n          return;\n        }\n        const actions = createCancelablePromise(token => getCodeActions(this._registry, model, trigger.selection, trigger.trigger, Progress.None, token));\n        if (trigger.trigger.type === 1 /* CodeActionTriggerType.Invoke */) {\n          (_a = this._progressService) === null || _a === void 0 ? void 0 : _a.showWhile(actions, 250);\n        }\n        this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\n      }, undefined);\n      this._codeActionOracle.value.trigger({\n        type: 2 /* CodeActionTriggerType.Auto */,\n        triggerAction: CodeActionTriggerSource.Default\n      });\n    } else {\n      this._supportedCodeActions.reset();\n    }\n  }\n  trigger(trigger) {\n    var _a;\n    (_a = this._codeActionOracle.value) === null || _a === void 0 ? void 0 : _a.trigger(trigger);\n  }\n  setState(newState, skipNotify) {\n    if (newState === this._state) {\n      return;\n    }\n    // Cancel old request\n    if (this._state.type === 1 /* CodeActionsState.Type.Triggered */) {\n      this._state.cancel();\n    }\n    this._state = newState;\n    if (!skipNotify && !__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n      this._onDidChangeState.fire(newState);\n    }\n  }\n}\n_CodeActionModel_isDisposed = new WeakMap();","map":{"version":3,"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","__classPrivateFieldSet","set","_CodeActionModel_isDisposed","createCancelablePromise","TimeoutTimer","isCancellationError","Emitter","Disposable","MutableDisposable","isEqual","RawContextKey","Progress","getCodeActions","CodeActionTriggerSource","SUPPORTED_CODE_ACTIONS","CodeActionOracle","constructor","_editor","_markerService","_signalChange","_delay","arguments","length","undefined","_autoTriggerTimer","_register","onMarkerChanged","e","_onMarkerChanges","onDidChangeCursorPosition","_onCursorChange","trigger","selection","_getRangeOfSelectionUnlessWhitespaceEnclosed","_createEventAndSignalChange","resources","model","getModel","some","resource","uri","cancelAndSet","type","triggerAction","Default","hasModel","getSelection","isEmpty","lineNumber","column","getPosition","line","getLineContent","test","getLineMaxColumn","position","getStartPosition","CodeActionsState","Empty","Triggered","rangeOrSelection","_cancellablePromise","actions","catch","emptyCodeActionSet","cancel","allActions","validActions","dispose","documentation","hasAutoFix","CodeActionModel","_registry","contextKeyService","_progressService","_codeActionOracle","_state","_onDidChangeState","onDidChangeState","event","_supportedCodeActions","bindTo","onDidChangeModel","_update","onDidChangeModelLanguage","onDidChange","setState","getOption","supportedActions","provider","all","Array","isArray","providedCodeActionKinds","push","join","_a","token","None","showWhile","reset","newState","skipNotify","fire","WeakMap"],"sources":["/Users/cadany/WebstormProjects/monaco-editor-sample/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/browser/codeActionModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _CodeActionModel_isDisposed;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Progress } from '../../../../platform/progress/common/progress.js';\nimport { getCodeActions } from './codeAction.js';\nimport { CodeActionTriggerSource } from '../common/types.js';\nexport const SUPPORTED_CODE_ACTIONS = new RawContextKey('supportedCodeAction', '');\nclass CodeActionOracle extends Disposable {\n    constructor(_editor, _markerService, _signalChange, _delay = 250) {\n        super();\n        this._editor = _editor;\n        this._markerService = _markerService;\n        this._signalChange = _signalChange;\n        this._delay = _delay;\n        this._autoTriggerTimer = this._register(new TimeoutTimer());\n        this._register(this._markerService.onMarkerChanged(e => this._onMarkerChanges(e)));\n        this._register(this._editor.onDidChangeCursorPosition(() => this._onCursorChange()));\n    }\n    trigger(trigger) {\n        const selection = this._getRangeOfSelectionUnlessWhitespaceEnclosed(trigger);\n        return this._createEventAndSignalChange(trigger, selection);\n    }\n    _onMarkerChanges(resources) {\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        if (resources.some(resource => isEqual(resource, model.uri))) {\n            this._autoTriggerTimer.cancelAndSet(() => {\n                this.trigger({ type: 2 /* CodeActionTriggerType.Auto */, triggerAction: CodeActionTriggerSource.Default });\n            }, this._delay);\n        }\n    }\n    _onCursorChange() {\n        this._autoTriggerTimer.cancelAndSet(() => {\n            this.trigger({ type: 2 /* CodeActionTriggerType.Auto */, triggerAction: CodeActionTriggerSource.Default });\n        }, this._delay);\n    }\n    _getRangeOfSelectionUnlessWhitespaceEnclosed(trigger) {\n        if (!this._editor.hasModel()) {\n            return undefined;\n        }\n        const model = this._editor.getModel();\n        const selection = this._editor.getSelection();\n        if (selection.isEmpty() && trigger.type === 2 /* CodeActionTriggerType.Auto */) {\n            const { lineNumber, column } = selection.getPosition();\n            const line = model.getLineContent(lineNumber);\n            if (line.length === 0) {\n                // empty line\n                return undefined;\n            }\n            else if (column === 1) {\n                // look only right\n                if (/\\s/.test(line[0])) {\n                    return undefined;\n                }\n            }\n            else if (column === model.getLineMaxColumn(lineNumber)) {\n                // look only left\n                if (/\\s/.test(line[line.length - 1])) {\n                    return undefined;\n                }\n            }\n            else {\n                // look left and right\n                if (/\\s/.test(line[column - 2]) && /\\s/.test(line[column - 1])) {\n                    return undefined;\n                }\n            }\n        }\n        return selection;\n    }\n    _createEventAndSignalChange(trigger, selection) {\n        const model = this._editor.getModel();\n        if (!selection || !model) {\n            // cancel\n            this._signalChange(undefined);\n            return undefined;\n        }\n        const e = {\n            trigger,\n            selection,\n            position: selection.getStartPosition(),\n        };\n        this._signalChange(e);\n        return e;\n    }\n}\nexport var CodeActionsState;\n(function (CodeActionsState) {\n    CodeActionsState.Empty = { type: 0 /* Type.Empty */ };\n    class Triggered {\n        constructor(trigger, rangeOrSelection, position, _cancellablePromise) {\n            this.trigger = trigger;\n            this.rangeOrSelection = rangeOrSelection;\n            this.position = position;\n            this._cancellablePromise = _cancellablePromise;\n            this.type = 1 /* Type.Triggered */;\n            this.actions = _cancellablePromise.catch((e) => {\n                if (isCancellationError(e)) {\n                    return emptyCodeActionSet;\n                }\n                throw e;\n            });\n        }\n        cancel() {\n            this._cancellablePromise.cancel();\n        }\n    }\n    CodeActionsState.Triggered = Triggered;\n})(CodeActionsState || (CodeActionsState = {}));\nconst emptyCodeActionSet = {\n    allActions: [],\n    validActions: [],\n    dispose: () => { },\n    documentation: [],\n    hasAutoFix: false\n};\nexport class CodeActionModel extends Disposable {\n    constructor(_editor, _registry, _markerService, contextKeyService, _progressService) {\n        super();\n        this._editor = _editor;\n        this._registry = _registry;\n        this._markerService = _markerService;\n        this._progressService = _progressService;\n        this._codeActionOracle = this._register(new MutableDisposable());\n        this._state = CodeActionsState.Empty;\n        this._onDidChangeState = this._register(new Emitter());\n        this.onDidChangeState = this._onDidChangeState.event;\n        _CodeActionModel_isDisposed.set(this, false);\n        this._supportedCodeActions = SUPPORTED_CODE_ACTIONS.bindTo(contextKeyService);\n        this._register(this._editor.onDidChangeModel(() => this._update()));\n        this._register(this._editor.onDidChangeModelLanguage(() => this._update()));\n        this._register(this._registry.onDidChange(() => this._update()));\n        this._update();\n    }\n    dispose() {\n        if (__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n            return;\n        }\n        __classPrivateFieldSet(this, _CodeActionModel_isDisposed, true, \"f\");\n        super.dispose();\n        this.setState(CodeActionsState.Empty, true);\n    }\n    _update() {\n        if (__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n            return;\n        }\n        this._codeActionOracle.value = undefined;\n        this.setState(CodeActionsState.Empty);\n        const model = this._editor.getModel();\n        if (model\n            && this._registry.has(model)\n            && !this._editor.getOption(86 /* EditorOption.readOnly */)) {\n            const supportedActions = [];\n            for (const provider of this._registry.all(model)) {\n                if (Array.isArray(provider.providedCodeActionKinds)) {\n                    supportedActions.push(...provider.providedCodeActionKinds);\n                }\n            }\n            this._supportedCodeActions.set(supportedActions.join(' '));\n            this._codeActionOracle.value = new CodeActionOracle(this._editor, this._markerService, trigger => {\n                var _a;\n                if (!trigger) {\n                    this.setState(CodeActionsState.Empty);\n                    return;\n                }\n                const actions = createCancelablePromise(token => getCodeActions(this._registry, model, trigger.selection, trigger.trigger, Progress.None, token));\n                if (trigger.trigger.type === 1 /* CodeActionTriggerType.Invoke */) {\n                    (_a = this._progressService) === null || _a === void 0 ? void 0 : _a.showWhile(actions, 250);\n                }\n                this.setState(new CodeActionsState.Triggered(trigger.trigger, trigger.selection, trigger.position, actions));\n            }, undefined);\n            this._codeActionOracle.value.trigger({ type: 2 /* CodeActionTriggerType.Auto */, triggerAction: CodeActionTriggerSource.Default });\n        }\n        else {\n            this._supportedCodeActions.reset();\n        }\n    }\n    trigger(trigger) {\n        var _a;\n        (_a = this._codeActionOracle.value) === null || _a === void 0 ? void 0 : _a.trigger(trigger);\n    }\n    setState(newState, skipNotify) {\n        if (newState === this._state) {\n            return;\n        }\n        // Cancel old request\n        if (this._state.type === 1 /* CodeActionsState.Type.Triggered */) {\n            this._state.cancel();\n        }\n        this._state = newState;\n        if (!skipNotify && !__classPrivateFieldGet(this, _CodeActionModel_isDisposed, \"f\")) {\n            this._onDidChangeState.fire(newState);\n        }\n    }\n}\n_CodeActionModel_isDisposed = new WeakMap();\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}