{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/cadany/WebstormProjects/monaco/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/cadany/WebstormProjects/monaco/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/cadany/WebstormProjects/monaco/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/cadany/WebstormProjects/monaco/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/cadany/WebstormProjects/monaco/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../base/common/event.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nexport var ViewModelEventDispatcher = /*#__PURE__*/function (_Disposable) {\n  _inherits(ViewModelEventDispatcher, _Disposable);\n  var _super = _createSuper(ViewModelEventDispatcher);\n  function ViewModelEventDispatcher() {\n    var _this;\n    _classCallCheck(this, ViewModelEventDispatcher);\n    _this = _super.call(this);\n    _this._onEvent = _this._register(new Emitter());\n    _this.onEvent = _this._onEvent.event;\n    _this._eventHandlers = [];\n    _this._viewEventQueue = null;\n    _this._isConsumingViewEventQueue = false;\n    _this._collector = null;\n    _this._collectorCnt = 0;\n    _this._outgoingEvents = [];\n    return _this;\n  }\n  _createClass(ViewModelEventDispatcher, [{\n    key: \"emitOutgoingEvent\",\n    value: function emitOutgoingEvent(e) {\n      this._addOutgoingEvent(e);\n      this._emitOutgoingEvents();\n    }\n  }, {\n    key: \"_addOutgoingEvent\",\n    value: function _addOutgoingEvent(e) {\n      for (var i = 0, len = this._outgoingEvents.length; i < len; i++) {\n        var mergeResult = this._outgoingEvents[i].kind === e.kind ? this._outgoingEvents[i].attemptToMerge(e) : null;\n        if (mergeResult) {\n          this._outgoingEvents[i] = mergeResult;\n          return;\n        }\n      }\n      // not merged\n      this._outgoingEvents.push(e);\n    }\n  }, {\n    key: \"_emitOutgoingEvents\",\n    value: function _emitOutgoingEvents() {\n      while (this._outgoingEvents.length > 0) {\n        if (this._collector || this._isConsumingViewEventQueue) {\n          // right now collecting or emitting view events, so let's postpone emitting\n          return;\n        }\n        var event = this._outgoingEvents.shift();\n        if (event.isNoOp()) {\n          continue;\n        }\n        this._onEvent.fire(event);\n      }\n    }\n  }, {\n    key: \"addViewEventHandler\",\n    value: function addViewEventHandler(eventHandler) {\n      for (var i = 0, len = this._eventHandlers.length; i < len; i++) {\n        if (this._eventHandlers[i] === eventHandler) {\n          console.warn('Detected duplicate listener in ViewEventDispatcher', eventHandler);\n        }\n      }\n      this._eventHandlers.push(eventHandler);\n    }\n  }, {\n    key: \"removeViewEventHandler\",\n    value: function removeViewEventHandler(eventHandler) {\n      for (var i = 0; i < this._eventHandlers.length; i++) {\n        if (this._eventHandlers[i] === eventHandler) {\n          this._eventHandlers.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"beginEmitViewEvents\",\n    value: function beginEmitViewEvents() {\n      this._collectorCnt++;\n      if (this._collectorCnt === 1) {\n        this._collector = new ViewModelEventsCollector();\n      }\n      return this._collector;\n    }\n  }, {\n    key: \"endEmitViewEvents\",\n    value: function endEmitViewEvents() {\n      this._collectorCnt--;\n      if (this._collectorCnt === 0) {\n        var outgoingEvents = this._collector.outgoingEvents;\n        var viewEvents = this._collector.viewEvents;\n        this._collector = null;\n        var _iterator = _createForOfIteratorHelper(outgoingEvents),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var outgoingEvent = _step.value;\n            this._addOutgoingEvent(outgoingEvent);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        if (viewEvents.length > 0) {\n          this._emitMany(viewEvents);\n        }\n      }\n      this._emitOutgoingEvents();\n    }\n  }, {\n    key: \"emitSingleViewEvent\",\n    value: function emitSingleViewEvent(event) {\n      try {\n        var eventsCollector = this.beginEmitViewEvents();\n        eventsCollector.emitViewEvent(event);\n      } finally {\n        this.endEmitViewEvents();\n      }\n    }\n  }, {\n    key: \"_emitMany\",\n    value: function _emitMany(events) {\n      if (this._viewEventQueue) {\n        this._viewEventQueue = this._viewEventQueue.concat(events);\n      } else {\n        this._viewEventQueue = events;\n      }\n      if (!this._isConsumingViewEventQueue) {\n        this._consumeViewEventQueue();\n      }\n    }\n  }, {\n    key: \"_consumeViewEventQueue\",\n    value: function _consumeViewEventQueue() {\n      try {\n        this._isConsumingViewEventQueue = true;\n        this._doConsumeQueue();\n      } finally {\n        this._isConsumingViewEventQueue = false;\n      }\n    }\n  }, {\n    key: \"_doConsumeQueue\",\n    value: function _doConsumeQueue() {\n      while (this._viewEventQueue) {\n        // Empty event queue, as events might come in while sending these off\n        var events = this._viewEventQueue;\n        this._viewEventQueue = null;\n        // Use a clone of the event handlers list, as they might remove themselves\n        var eventHandlers = this._eventHandlers.slice(0);\n        var _iterator2 = _createForOfIteratorHelper(eventHandlers),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eventHandler = _step2.value;\n            eventHandler.handleEvents(events);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n  }]);\n  return ViewModelEventDispatcher;\n}(Disposable);\nexport var ViewModelEventsCollector = /*#__PURE__*/function () {\n  function ViewModelEventsCollector() {\n    _classCallCheck(this, ViewModelEventsCollector);\n    this.viewEvents = [];\n    this.outgoingEvents = [];\n  }\n  _createClass(ViewModelEventsCollector, [{\n    key: \"emitViewEvent\",\n    value: function emitViewEvent(event) {\n      this.viewEvents.push(event);\n    }\n  }, {\n    key: \"emitOutgoingEvent\",\n    value: function emitOutgoingEvent(e) {\n      this.outgoingEvents.push(e);\n    }\n  }]);\n  return ViewModelEventsCollector;\n}();\nexport var ContentSizeChangedEvent = /*#__PURE__*/function () {\n  function ContentSizeChangedEvent(oldContentWidth, oldContentHeight, contentWidth, contentHeight) {\n    _classCallCheck(this, ContentSizeChangedEvent);\n    this.kind = 0 /* OutgoingViewModelEventKind.ContentSizeChanged */;\n    this._oldContentWidth = oldContentWidth;\n    this._oldContentHeight = oldContentHeight;\n    this.contentWidth = contentWidth;\n    this.contentHeight = contentHeight;\n    this.contentWidthChanged = this._oldContentWidth !== this.contentWidth;\n    this.contentHeightChanged = this._oldContentHeight !== this.contentHeight;\n  }\n  _createClass(ContentSizeChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return !this.contentWidthChanged && !this.contentHeightChanged;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return new ContentSizeChangedEvent(this._oldContentWidth, this._oldContentHeight, other.contentWidth, other.contentHeight);\n    }\n  }]);\n  return ContentSizeChangedEvent;\n}();\nexport var FocusChangedEvent = /*#__PURE__*/function () {\n  function FocusChangedEvent(oldHasFocus, hasFocus) {\n    _classCallCheck(this, FocusChangedEvent);\n    this.kind = 1 /* OutgoingViewModelEventKind.FocusChanged */;\n    this.oldHasFocus = oldHasFocus;\n    this.hasFocus = hasFocus;\n  }\n  _createClass(FocusChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return this.oldHasFocus === this.hasFocus;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return new FocusChangedEvent(this.oldHasFocus, other.hasFocus);\n    }\n  }]);\n  return FocusChangedEvent;\n}();\nexport var ScrollChangedEvent = /*#__PURE__*/function () {\n  function ScrollChangedEvent(oldScrollWidth, oldScrollLeft, oldScrollHeight, oldScrollTop, scrollWidth, scrollLeft, scrollHeight, scrollTop) {\n    _classCallCheck(this, ScrollChangedEvent);\n    this.kind = 2 /* OutgoingViewModelEventKind.ScrollChanged */;\n    this._oldScrollWidth = oldScrollWidth;\n    this._oldScrollLeft = oldScrollLeft;\n    this._oldScrollHeight = oldScrollHeight;\n    this._oldScrollTop = oldScrollTop;\n    this.scrollWidth = scrollWidth;\n    this.scrollLeft = scrollLeft;\n    this.scrollHeight = scrollHeight;\n    this.scrollTop = scrollTop;\n    this.scrollWidthChanged = this._oldScrollWidth !== this.scrollWidth;\n    this.scrollLeftChanged = this._oldScrollLeft !== this.scrollLeft;\n    this.scrollHeightChanged = this._oldScrollHeight !== this.scrollHeight;\n    this.scrollTopChanged = this._oldScrollTop !== this.scrollTop;\n  }\n  _createClass(ScrollChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return !this.scrollWidthChanged && !this.scrollLeftChanged && !this.scrollHeightChanged && !this.scrollTopChanged;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return new ScrollChangedEvent(this._oldScrollWidth, this._oldScrollLeft, this._oldScrollHeight, this._oldScrollTop, other.scrollWidth, other.scrollLeft, other.scrollHeight, other.scrollTop);\n    }\n  }]);\n  return ScrollChangedEvent;\n}();\nexport var ViewZonesChangedEvent = /*#__PURE__*/function () {\n  function ViewZonesChangedEvent() {\n    _classCallCheck(this, ViewZonesChangedEvent);\n    this.kind = 3 /* OutgoingViewModelEventKind.ViewZonesChanged */;\n  }\n  _createClass(ViewZonesChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return this;\n    }\n  }]);\n  return ViewZonesChangedEvent;\n}();\nexport var HiddenAreasChangedEvent = /*#__PURE__*/function () {\n  function HiddenAreasChangedEvent() {\n    _classCallCheck(this, HiddenAreasChangedEvent);\n    this.kind = 4 /* OutgoingViewModelEventKind.HiddenAreasChanged */;\n  }\n  _createClass(HiddenAreasChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return this;\n    }\n  }]);\n  return HiddenAreasChangedEvent;\n}();\nexport var CursorStateChangedEvent = /*#__PURE__*/function () {\n  function CursorStateChangedEvent(oldSelections, selections, oldModelVersionId, modelVersionId, source, reason, reachedMaxCursorCount) {\n    _classCallCheck(this, CursorStateChangedEvent);\n    this.kind = 6 /* OutgoingViewModelEventKind.CursorStateChanged */;\n    this.oldSelections = oldSelections;\n    this.selections = selections;\n    this.oldModelVersionId = oldModelVersionId;\n    this.modelVersionId = modelVersionId;\n    this.source = source;\n    this.reason = reason;\n    this.reachedMaxCursorCount = reachedMaxCursorCount;\n  }\n  _createClass(CursorStateChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return CursorStateChangedEvent._selectionsAreEqual(this.oldSelections, this.selections) && this.oldModelVersionId === this.modelVersionId;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return new CursorStateChangedEvent(this.oldSelections, other.selections, this.oldModelVersionId, other.modelVersionId, other.source, other.reason, this.reachedMaxCursorCount || other.reachedMaxCursorCount);\n    }\n  }], [{\n    key: \"_selectionsAreEqual\",\n    value: function _selectionsAreEqual(a, b) {\n      if (!a && !b) {\n        return true;\n      }\n      if (!a || !b) {\n        return false;\n      }\n      var aLen = a.length;\n      var bLen = b.length;\n      if (aLen !== bLen) {\n        return false;\n      }\n      for (var i = 0; i < aLen; i++) {\n        if (!a[i].equalsSelection(b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }]);\n  return CursorStateChangedEvent;\n}();\nexport var ReadOnlyEditAttemptEvent = /*#__PURE__*/function () {\n  function ReadOnlyEditAttemptEvent() {\n    _classCallCheck(this, ReadOnlyEditAttemptEvent);\n    this.kind = 5 /* OutgoingViewModelEventKind.ReadOnlyEditAttempt */;\n  }\n  _createClass(ReadOnlyEditAttemptEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      if (other.kind !== this.kind) {\n        return null;\n      }\n      return this;\n    }\n  }]);\n  return ReadOnlyEditAttemptEvent;\n}();\nexport var ModelDecorationsChangedEvent = /*#__PURE__*/function () {\n  function ModelDecorationsChangedEvent(event) {\n    _classCallCheck(this, ModelDecorationsChangedEvent);\n    this.event = event;\n    this.kind = 7 /* OutgoingViewModelEventKind.ModelDecorationsChanged */;\n  }\n  _createClass(ModelDecorationsChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelDecorationsChangedEvent;\n}();\nexport var ModelLanguageChangedEvent = /*#__PURE__*/function () {\n  function ModelLanguageChangedEvent(event) {\n    _classCallCheck(this, ModelLanguageChangedEvent);\n    this.event = event;\n    this.kind = 8 /* OutgoingViewModelEventKind.ModelLanguageChanged */;\n  }\n  _createClass(ModelLanguageChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelLanguageChangedEvent;\n}();\nexport var ModelLanguageConfigurationChangedEvent = /*#__PURE__*/function () {\n  function ModelLanguageConfigurationChangedEvent(event) {\n    _classCallCheck(this, ModelLanguageConfigurationChangedEvent);\n    this.event = event;\n    this.kind = 9 /* OutgoingViewModelEventKind.ModelLanguageConfigurationChanged */;\n  }\n  _createClass(ModelLanguageConfigurationChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelLanguageConfigurationChangedEvent;\n}();\nexport var ModelContentChangedEvent = /*#__PURE__*/function () {\n  function ModelContentChangedEvent(event) {\n    _classCallCheck(this, ModelContentChangedEvent);\n    this.event = event;\n    this.kind = 10 /* OutgoingViewModelEventKind.ModelContentChanged */;\n  }\n  _createClass(ModelContentChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelContentChangedEvent;\n}();\nexport var ModelOptionsChangedEvent = /*#__PURE__*/function () {\n  function ModelOptionsChangedEvent(event) {\n    _classCallCheck(this, ModelOptionsChangedEvent);\n    this.event = event;\n    this.kind = 11 /* OutgoingViewModelEventKind.ModelOptionsChanged */;\n  }\n  _createClass(ModelOptionsChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelOptionsChangedEvent;\n}();\nexport var ModelTokensChangedEvent = /*#__PURE__*/function () {\n  function ModelTokensChangedEvent(event) {\n    _classCallCheck(this, ModelTokensChangedEvent);\n    this.event = event;\n    this.kind = 12 /* OutgoingViewModelEventKind.ModelTokensChanged */;\n  }\n  _createClass(ModelTokensChangedEvent, [{\n    key: \"isNoOp\",\n    value: function isNoOp() {\n      return false;\n    }\n  }, {\n    key: \"attemptToMerge\",\n    value: function attemptToMerge(other) {\n      return null;\n    }\n  }]);\n  return ModelTokensChangedEvent;\n}();","map":{"version":3,"names":["Emitter","Disposable","ViewModelEventDispatcher","_Disposable","_inherits","_super","_createSuper","_this","_classCallCheck","call","_onEvent","_register","onEvent","event","_eventHandlers","_viewEventQueue","_isConsumingViewEventQueue","_collector","_collectorCnt","_outgoingEvents","_createClass","key","value","emitOutgoingEvent","e","_addOutgoingEvent","_emitOutgoingEvents","i","len","length","mergeResult","kind","attemptToMerge","push","shift","isNoOp","fire","addViewEventHandler","eventHandler","console","warn","removeViewEventHandler","splice","beginEmitViewEvents","ViewModelEventsCollector","endEmitViewEvents","outgoingEvents","viewEvents","_iterator","_createForOfIteratorHelper","_step","s","n","done","outgoingEvent","err","f","_emitMany","emitSingleViewEvent","eventsCollector","emitViewEvent","events","concat","_consumeViewEventQueue","_doConsumeQueue","eventHandlers","slice","_iterator2","_step2","handleEvents","ContentSizeChangedEvent","oldContentWidth","oldContentHeight","contentWidth","contentHeight","_oldContentWidth","_oldContentHeight","contentWidthChanged","contentHeightChanged","other","FocusChangedEvent","oldHasFocus","hasFocus","ScrollChangedEvent","oldScrollWidth","oldScrollLeft","oldScrollHeight","oldScrollTop","scrollWidth","scrollLeft","scrollHeight","scrollTop","_oldScrollWidth","_oldScrollLeft","_oldScrollHeight","_oldScrollTop","scrollWidthChanged","scrollLeftChanged","scrollHeightChanged","scrollTopChanged","ViewZonesChangedEvent","HiddenAreasChangedEvent","CursorStateChangedEvent","oldSelections","selections","oldModelVersionId","modelVersionId","source","reason","reachedMaxCursorCount","_selectionsAreEqual","a","b","aLen","bLen","equalsSelection","ReadOnlyEditAttemptEvent","ModelDecorationsChangedEvent","ModelLanguageChangedEvent","ModelLanguageConfigurationChangedEvent","ModelContentChangedEvent","ModelOptionsChangedEvent","ModelTokensChangedEvent"],"sources":["/Users/cadany/WebstormProjects/monaco/node_modules/monaco-editor/esm/vs/editor/common/viewModelEventDispatcher.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../base/common/event.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nexport class ViewModelEventDispatcher extends Disposable {\n    constructor() {\n        super();\n        this._onEvent = this._register(new Emitter());\n        this.onEvent = this._onEvent.event;\n        this._eventHandlers = [];\n        this._viewEventQueue = null;\n        this._isConsumingViewEventQueue = false;\n        this._collector = null;\n        this._collectorCnt = 0;\n        this._outgoingEvents = [];\n    }\n    emitOutgoingEvent(e) {\n        this._addOutgoingEvent(e);\n        this._emitOutgoingEvents();\n    }\n    _addOutgoingEvent(e) {\n        for (let i = 0, len = this._outgoingEvents.length; i < len; i++) {\n            const mergeResult = (this._outgoingEvents[i].kind === e.kind ? this._outgoingEvents[i].attemptToMerge(e) : null);\n            if (mergeResult) {\n                this._outgoingEvents[i] = mergeResult;\n                return;\n            }\n        }\n        // not merged\n        this._outgoingEvents.push(e);\n    }\n    _emitOutgoingEvents() {\n        while (this._outgoingEvents.length > 0) {\n            if (this._collector || this._isConsumingViewEventQueue) {\n                // right now collecting or emitting view events, so let's postpone emitting\n                return;\n            }\n            const event = this._outgoingEvents.shift();\n            if (event.isNoOp()) {\n                continue;\n            }\n            this._onEvent.fire(event);\n        }\n    }\n    addViewEventHandler(eventHandler) {\n        for (let i = 0, len = this._eventHandlers.length; i < len; i++) {\n            if (this._eventHandlers[i] === eventHandler) {\n                console.warn('Detected duplicate listener in ViewEventDispatcher', eventHandler);\n            }\n        }\n        this._eventHandlers.push(eventHandler);\n    }\n    removeViewEventHandler(eventHandler) {\n        for (let i = 0; i < this._eventHandlers.length; i++) {\n            if (this._eventHandlers[i] === eventHandler) {\n                this._eventHandlers.splice(i, 1);\n                break;\n            }\n        }\n    }\n    beginEmitViewEvents() {\n        this._collectorCnt++;\n        if (this._collectorCnt === 1) {\n            this._collector = new ViewModelEventsCollector();\n        }\n        return this._collector;\n    }\n    endEmitViewEvents() {\n        this._collectorCnt--;\n        if (this._collectorCnt === 0) {\n            const outgoingEvents = this._collector.outgoingEvents;\n            const viewEvents = this._collector.viewEvents;\n            this._collector = null;\n            for (const outgoingEvent of outgoingEvents) {\n                this._addOutgoingEvent(outgoingEvent);\n            }\n            if (viewEvents.length > 0) {\n                this._emitMany(viewEvents);\n            }\n        }\n        this._emitOutgoingEvents();\n    }\n    emitSingleViewEvent(event) {\n        try {\n            const eventsCollector = this.beginEmitViewEvents();\n            eventsCollector.emitViewEvent(event);\n        }\n        finally {\n            this.endEmitViewEvents();\n        }\n    }\n    _emitMany(events) {\n        if (this._viewEventQueue) {\n            this._viewEventQueue = this._viewEventQueue.concat(events);\n        }\n        else {\n            this._viewEventQueue = events;\n        }\n        if (!this._isConsumingViewEventQueue) {\n            this._consumeViewEventQueue();\n        }\n    }\n    _consumeViewEventQueue() {\n        try {\n            this._isConsumingViewEventQueue = true;\n            this._doConsumeQueue();\n        }\n        finally {\n            this._isConsumingViewEventQueue = false;\n        }\n    }\n    _doConsumeQueue() {\n        while (this._viewEventQueue) {\n            // Empty event queue, as events might come in while sending these off\n            const events = this._viewEventQueue;\n            this._viewEventQueue = null;\n            // Use a clone of the event handlers list, as they might remove themselves\n            const eventHandlers = this._eventHandlers.slice(0);\n            for (const eventHandler of eventHandlers) {\n                eventHandler.handleEvents(events);\n            }\n        }\n    }\n}\nexport class ViewModelEventsCollector {\n    constructor() {\n        this.viewEvents = [];\n        this.outgoingEvents = [];\n    }\n    emitViewEvent(event) {\n        this.viewEvents.push(event);\n    }\n    emitOutgoingEvent(e) {\n        this.outgoingEvents.push(e);\n    }\n}\nexport class ContentSizeChangedEvent {\n    constructor(oldContentWidth, oldContentHeight, contentWidth, contentHeight) {\n        this.kind = 0 /* OutgoingViewModelEventKind.ContentSizeChanged */;\n        this._oldContentWidth = oldContentWidth;\n        this._oldContentHeight = oldContentHeight;\n        this.contentWidth = contentWidth;\n        this.contentHeight = contentHeight;\n        this.contentWidthChanged = (this._oldContentWidth !== this.contentWidth);\n        this.contentHeightChanged = (this._oldContentHeight !== this.contentHeight);\n    }\n    isNoOp() {\n        return (!this.contentWidthChanged && !this.contentHeightChanged);\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return new ContentSizeChangedEvent(this._oldContentWidth, this._oldContentHeight, other.contentWidth, other.contentHeight);\n    }\n}\nexport class FocusChangedEvent {\n    constructor(oldHasFocus, hasFocus) {\n        this.kind = 1 /* OutgoingViewModelEventKind.FocusChanged */;\n        this.oldHasFocus = oldHasFocus;\n        this.hasFocus = hasFocus;\n    }\n    isNoOp() {\n        return (this.oldHasFocus === this.hasFocus);\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return new FocusChangedEvent(this.oldHasFocus, other.hasFocus);\n    }\n}\nexport class ScrollChangedEvent {\n    constructor(oldScrollWidth, oldScrollLeft, oldScrollHeight, oldScrollTop, scrollWidth, scrollLeft, scrollHeight, scrollTop) {\n        this.kind = 2 /* OutgoingViewModelEventKind.ScrollChanged */;\n        this._oldScrollWidth = oldScrollWidth;\n        this._oldScrollLeft = oldScrollLeft;\n        this._oldScrollHeight = oldScrollHeight;\n        this._oldScrollTop = oldScrollTop;\n        this.scrollWidth = scrollWidth;\n        this.scrollLeft = scrollLeft;\n        this.scrollHeight = scrollHeight;\n        this.scrollTop = scrollTop;\n        this.scrollWidthChanged = (this._oldScrollWidth !== this.scrollWidth);\n        this.scrollLeftChanged = (this._oldScrollLeft !== this.scrollLeft);\n        this.scrollHeightChanged = (this._oldScrollHeight !== this.scrollHeight);\n        this.scrollTopChanged = (this._oldScrollTop !== this.scrollTop);\n    }\n    isNoOp() {\n        return (!this.scrollWidthChanged && !this.scrollLeftChanged && !this.scrollHeightChanged && !this.scrollTopChanged);\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return new ScrollChangedEvent(this._oldScrollWidth, this._oldScrollLeft, this._oldScrollHeight, this._oldScrollTop, other.scrollWidth, other.scrollLeft, other.scrollHeight, other.scrollTop);\n    }\n}\nexport class ViewZonesChangedEvent {\n    constructor() {\n        this.kind = 3 /* OutgoingViewModelEventKind.ViewZonesChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return this;\n    }\n}\nexport class HiddenAreasChangedEvent {\n    constructor() {\n        this.kind = 4 /* OutgoingViewModelEventKind.HiddenAreasChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return this;\n    }\n}\nexport class CursorStateChangedEvent {\n    constructor(oldSelections, selections, oldModelVersionId, modelVersionId, source, reason, reachedMaxCursorCount) {\n        this.kind = 6 /* OutgoingViewModelEventKind.CursorStateChanged */;\n        this.oldSelections = oldSelections;\n        this.selections = selections;\n        this.oldModelVersionId = oldModelVersionId;\n        this.modelVersionId = modelVersionId;\n        this.source = source;\n        this.reason = reason;\n        this.reachedMaxCursorCount = reachedMaxCursorCount;\n    }\n    static _selectionsAreEqual(a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        const aLen = a.length;\n        const bLen = b.length;\n        if (aLen !== bLen) {\n            return false;\n        }\n        for (let i = 0; i < aLen; i++) {\n            if (!a[i].equalsSelection(b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    isNoOp() {\n        return (CursorStateChangedEvent._selectionsAreEqual(this.oldSelections, this.selections)\n            && this.oldModelVersionId === this.modelVersionId);\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return new CursorStateChangedEvent(this.oldSelections, other.selections, this.oldModelVersionId, other.modelVersionId, other.source, other.reason, this.reachedMaxCursorCount || other.reachedMaxCursorCount);\n    }\n}\nexport class ReadOnlyEditAttemptEvent {\n    constructor() {\n        this.kind = 5 /* OutgoingViewModelEventKind.ReadOnlyEditAttempt */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        if (other.kind !== this.kind) {\n            return null;\n        }\n        return this;\n    }\n}\nexport class ModelDecorationsChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 7 /* OutgoingViewModelEventKind.ModelDecorationsChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\nexport class ModelLanguageChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 8 /* OutgoingViewModelEventKind.ModelLanguageChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\nexport class ModelLanguageConfigurationChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 9 /* OutgoingViewModelEventKind.ModelLanguageConfigurationChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\nexport class ModelContentChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 10 /* OutgoingViewModelEventKind.ModelContentChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\nexport class ModelOptionsChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 11 /* OutgoingViewModelEventKind.ModelOptionsChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\nexport class ModelTokensChangedEvent {\n    constructor(event) {\n        this.event = event;\n        this.kind = 12 /* OutgoingViewModelEventKind.ModelTokensChanged */;\n    }\n    isNoOp() {\n        return false;\n    }\n    attemptToMerge(other) {\n        return null;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}